<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<!-- FIXED: removed prefWidth="1280" prefHeight="768" — sizing handled by PayrollApplication -->
<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.payroll_project.controller.LoginController"
            styleClass="login-root">
    
    <!-- Left Panel - Branding -->
    <left>
        <VBox styleClass="login-brand-panel" alignment="CENTER" spacing="30"
              minWidth="360" prefWidth="420">
            <padding>
                <Insets top="60" right="50" bottom="60" left="50"/>
            </padding>
            
            <VBox alignment="CENTER" spacing="20">
                <StackPane styleClass="login-logo">
                    <Label text="KC-02N Payroll System" styleClass="login-brand-title"/>
                </StackPane>
                <Text text="Payroll System" styleClass="login-brand-title"/>
                <Text text="Biometric Scanner Integration" styleClass="login-brand-subtitle"/>
            </VBox>
            
            <Separator style="-fx-background-color: rgba(255,255,255,0.2);"/>
            
            <VBox styleClass="login-feature-list" spacing="16">
                <Label text="Key Features" style="-fx-text-fill:#F59E0B;-fx-font-size:14px;-fx-font-weight:600;"/>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="✓" styleClass="feature-bullet"/>
                    <Text text="Automated Attendance Processing" styleClass="feature-text"/>
                </HBox>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="✓" styleClass="feature-bullet"/>
                    <Text text="Philippine Law Compliance" styleClass="feature-text"/>
                </HBox>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="✓" styleClass="feature-bullet"/>
                    <Text text="Transparent Calculations" styleClass="feature-text"/>
                </HBox>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="✓" styleClass="feature-bullet"/>
                    <Text text="Individual Payslip Generation" styleClass="feature-text"/>
                </HBox>
            </VBox>
            
            <Region VBox.vgrow="ALWAYS"/>
            
            <VBox spacing="12" alignment="CENTER">
                <Separator style="-fx-background-color: rgba(255,255,255,0.2);"/>
                <Text text="Secure · Compliant · Reliable" styleClass="login-copyright"/>
                <Text text="© 2026 KC-02N Payroll System" styleClass="login-copyright"/>
            </VBox>
        </VBox>
    </left>
    
    <!-- Right Panel - Login Form with ScrollPane for small screens -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true"
                    hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                    style="-fx-background-color:white;-fx-background:white;-fx-border-color:transparent;">
            <VBox styleClass="login-form-panel" alignment="CENTER">
                <padding>
                    <Insets top="60" right="80" bottom="60" left="80"/>
                </padding>
                
                <VBox styleClass="login-form-container" spacing="28" alignment="CENTER" maxWidth="420">
                    <VBox spacing="10" alignment="CENTER">
                        <Label text="Welcome Back" styleClass="login-form-title"/>
                        <Label text="Sign in to your account to continue" styleClass="login-form-subtitle"/>
                    </VBox>
                    
                    <Label fx:id="errorLabel" styleClass="login-error" wrapText="true"
                           visible="false" maxWidth="Infinity"/>
                    
                    <VBox spacing="24" styleClass="login-inputs">
                        <VBox spacing="10">
                            <Label text="Username" styleClass="input-label"/>
                            <TextField fx:id="usernameField"
                                       promptText="Enter your username"
                                       styleClass="login-input"/>
                        </VBox>
                        <VBox spacing="10">
                            <Label text="Password" styleClass="input-label"/>
                            <PasswordField fx:id="passwordField"
                                           promptText="Enter your password"
                                           styleClass="login-input"/>
                        </VBox>
                        <HBox spacing="12" alignment="CENTER_LEFT">
                            <CheckBox fx:id="rememberMeCheckBox"
                                      text="Remember me for 30 days"
                                      styleClass="remember-checkbox"/>
                        </HBox>
                    </VBox>
                    
                    <StackPane>
                        <Button fx:id="loginButton"
                                text="Sign In"
                                onAction="#handleLogin"
                                styleClass="login-button"
                                maxWidth="Infinity"
                                prefWidth="420"/>
                        <ProgressIndicator fx:id="loadingIndicator"
                                           styleClass="login-loading"
                                           visible="false"
                                           maxWidth="30" maxHeight="30"/>
                    </StackPane>
                    
                    <HBox alignment="CENTER" spacing="12">
                        <Separator HBox.hgrow="ALWAYS"/>
                        <Label text="OR" style="-fx-text-fill:#9CA3AF;-fx-font-size:12px;"/>
                        <Separator HBox.hgrow="ALWAYS"/>
                    </HBox>

                    <VBox spacing="12" alignment="CENTER"
                          style="-fx-background-color:#F9FAFB;-fx-padding:20px;-fx-background-radius:8px;">
                        <Label text="Default Login Credentials" styleClass="help-text-title"/>
                        <VBox spacing="6" alignment="CENTER">
                            <HBox spacing="8">
                                <Label text="Username:" style="-fx-font-weight:600;-fx-font-size:13px;"/>
                                <Label text="admin" styleClass="help-text"/>
                            </HBox>
                            <HBox spacing="8">
                                <Label text="Password:" style="-fx-font-weight:600;-fx-font-size:13px;"/>
                                <Label text="admin123" styleClass="help-text"/>
                            </HBox>
                        </VBox>
                        <Label text="Please change the password after first login"
                               styleClass="help-text-warning"/>
                    </VBox>

                    <Label text="Need help? Contact your system administrator."
                           style="-fx-text-fill:#6B7280;-fx-font-size:12px;"/>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
